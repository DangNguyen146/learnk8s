<source>
    type tail
    format /^(?<time>[^ ]+ [^ ]+) \[(?<log_level>.*)\] (?<pid>[^#]*)#(?<tid>[^:]*): (?<message>.*)$/
    tag vietnamwork_error.log
    pos_file /data/td-agent/tmp/vnw_error.pos
    path /data/docker/volumes/www-logs/_data/vietnamworks.com_error.log
</source>
<match vietnamwork_error.**>
    @type record_modifier
    <record>
        service "vietnamworks"
        branch "release"
        servername "#{Socket.gethostname}"
    </record>
    tag vnw_error.log
</match>
<source>
    type tail
    format /^(?<time>[^ ]+ [^ ]+) \[(?<log_level>.*)\] (?<pid>[^#]*)#(?<tid>[^:]*): (?<message>.*)$/
    tag superadmin_error.log
    pos_file /data/td-agent/tmp/superadmin_error.pos
    path /data/docker/volumes/www-logs/_data/superadmin.vietnamworks.com_error.log
</source>
<match superadmin_error.**>
    @type record_modifier
    <record>
        service "superadmin"
        branch "release"
        servername "#{Socket.gethostname}"
    </record>
    tag vnw_error.log
</match>
<source>
    type tail
    format /^(?<time>[^ ]+ [^ ]+) \[(?<log_level>.*)\] (?<pid>[^#]*)#(?<tid>[^:]*): (?<message>.*)$/
    tag employer_error.log
    pos_file /data/td-agent/tmp/employer_error_nossl.pos
    path /data/docker/volumes/www-logs/_data/employer.vietnamworks.com_error.log
</source>
<match employer_error.**>
    @type record_modifier
    <record>
        service "employer"
        branch "release"
        servername "#{Socket.gethostname}"
    </record>
    tag vnw_error.log
</match>
<source>
    type tail
    format /^(?<time>[^ ]+ [^ ]+) \[(?<log_level>.*)\] (?<pid>[^#]*)#(?<tid>[^:]*): (?<message>.*)$/
    tag secure_error.log
    pos_file /data/td-agent/tmp/secure_error_nossl.pos
    path /data/docker/volumes/www-logs/_data/secure.vietnamworks.com_error.log
</source>
<match secure_error.**>
    @type record_modifier
    <record>
        service "secure"
        branch "release"
        servername "#{Socket.gethostname}"
    </record>
    tag vnw_error.log
</match>
<source>
    type tail
    format /^(?<time>[^ ]+ [^ ]+) \[(?<log_level>.*)\] (?<pid>[^#]*)#(?<tid>[^:]*): (?<message>.*)$/
    tag faq_error.log
    pos_file /data/td-agent/tmp/faq_error_nossl.pos
    path /data/docker/volumes/www-logs/_data/faq.vietnamworks.com_error.log
</source>
<match faq_error.**>
    @type record_modifier
    <record>
        service "faq"
        branch "release"
        servername "#{Socket.gethostname}"
    </record>
    tag vnw_error.log
</match>
<match vnw_error.**>
    @type copy
    <store>
        @type forward
        send_timeout 60s
        recover_wait 300s
        hard_timeout 60s
        heartbeat_interval 1s
        phi_threshold 16
        flush_interval 0
        <server>
            name release-centerLog
            host 172.16.5.75
            port 1514
            weight 60
        </server>
    </store>
</match>